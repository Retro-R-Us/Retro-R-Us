# RENDER BLUEPRINT DOCUMENTATION
# https://render.com/docs/blueprint-spec#web-services-workers-private-services-and-cron-jobs

services:
- type: web
    name: my blog
    env: node
    repo: https://github.com/Retro-R-Us/Retro-R-Us.git
    branch: master
    buildCommand: npm run client:build
    staticPublishPath: ./build
    pullRequestPreviewsEnabled: true # optional
    buildFilter:
      paths:
      - src/**/*.js
      ignoredPaths:
      - src/**/*.test.js
    headers:
      - path: /*
        name: X-Frame-Options
        value: sameorigin
    routes:
      - type: redirect
        source: /old
        destination: /new
      - type: rewrite
        source: /a/*
        destination: /a
    plan: free # optional (defaults to starter)
    maxmemoryPolicy: noeviction # optional (defaults to allkeys-lru)
databases:
  - name: Retro-R-Us
    region: oregon
    databaseName: Retro-R-Us
    ipAllowList: [] # only allow internal connections
    postgresMajorVersion: 15 